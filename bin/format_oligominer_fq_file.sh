#!/bin/bash
#Script to format the headers of fastq files generated by blockParse.py to have more informative names based on the target in the corresponding numbered fasta file

num=$1
#Define the target_name
target=`head -n1 "$num".fa|sed 's/>//g'|sed 's/::/_/g'|sed 's/:/_/g'|awk -F "_target" '{print $1}'`
#Define the replacement prefix for fastq header
prefix=`echo "@$target::pos"`
#Replace header
sed -i "s/@chrom/$prefix/g" "$num".fastq
